import { Component, EventEmitter, Input, Output } from '@angular/core';
import { cloneDeep as _cloneDeep } from "lodash";
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/material/menu";
import * as i3 from "@angular/material/badge";
import * as i4 from "primeng/dropdown";
import * as i5 from "primeng/api";
import * as i6 from "@angular/forms";
import * as i7 from "primeng/multiselect";
export class UikTableFilterByListMenuComponent {
    constructor() {
        this.selectedOptions = [];
        this.selectedOptionModel = { id: '', label: '' };
        this.selectedOptionsModel = [];
        this.selectedOption = '';
        this.filteredOptions = [];
        this.filteredOption = '';
        this.options = [];
        this.label = 'Filtern';
        this.multiple = true;
        this.filterStatusEmitter = new EventEmitter();
    }
    ngOnInit() {
    }
    emit() {
        this.filteredOption = _cloneDeep(this.selectedOption);
        this.filteredOptions = _cloneDeep(this.selectedOptions);
        this.filterStatusEmitter.emit(this.multiple ? this.selectedOptions : this.selectedOption);
    }
    clear() {
        this.selectedOptions = [];
        this.selectedOption = '';
        this.selectedOptionsModel = [];
        this.selectedOptionModel = { id: '', label: '' };
        this.filteredOption = '';
        this.filteredOptions = [];
        this.filterStatusEmitter.emit(this.selectedOptions);
    }
    onSelectChange($event) {
        if (!!$event.value) {
            if (this.multiple) {
                this.selectedOptions = $event.value.map((v) => v.id);
            }
            else {
                this.selectedOption = $event.value.id;
            }
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: UikTableFilterByListMenuComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: UikTableFilterByListMenuComponent, selector: "engo-uik-table-filter-by-list-menu", inputs: { options: "options", label: "label", multiple: "multiple" }, outputs: { filterStatusEmitter: "filterStatusEmitter" }, ngImport: i0, template: "<button #filtertrigger=\"matMenuTrigger\" [class.menu-opened]=\"filtertrigger.menuOpen\"\n        [matBadge]=\"!multiple && filteredOption !== '' ? 1 : filteredOptions.length === 0 ? undefined : filteredOptions.length\"\n        [matMenuTriggerFor]=\"filterMenu\"\n        class=\"btn btn-white-border-gray filter-button\">\n  <i class=\"fa-solid fa-filter filter-icon\"></i>{{label}}\n</button>\n<mat-menu #filterMenu>\n  <div (click)=\"$event.stopPropagation(); $event.preventDefault\" class=\"filter-container\">\n    <div class=\"multiple-filter\" *ngIf=\"multiple\">\n      <p-multiSelect [options]=\"options\" appendTo=\"body\" (onChange)=\"onSelectChange($event)\" [placeholder]=\"label\" [filter]=\"true\" filterBy=\"label\" [showClear]=\"false\" [(ngModel)]=\"selectedOptionsModel\" [defaultLabel]=\"label\" optionLabel=\"label\"\n                     class=\"multiselect-custom\">\n        <ng-template let-value pTemplate=\"selectedItems\">\n          <div class=\"country-item country-item-value\" *ngFor=\"let option of selectedOptionsModel\">\n            <div>{{option.label}}</div>\n          </div>\n          <div *ngIf=\"!selectedOptionsModel || selectedOptionsModel.length === 0\" class=\"country-placeholder\">\n            {{label}}\n          </div>\n        </ng-template>\n        <ng-template let-each pTemplate=\"item\">\n          <div class=\"country-item\">\n            <div>{{each.label}}</div>\n          </div>\n        </ng-template>\n      </p-multiSelect>\n    </div>\n    <div class=\"single-filter\" *ngIf=\"!multiple\">\n      <p-dropdown (onChange)=\"onSelectChange($event)\" appendTo=\"body\" [(ngModel)]=\"selectedOptionModel\" [filter]=\"true\" [options]=\"options\" [showClear]=\"false\" filterBy=\"label\" optionLabel=\"label\" [placeholder]=\"label\">\n        <ng-template pTemplate=\"selectedItem\">\n          <div *ngIf=\"!!selectedOptionModel\">\n            <div>{{ selectedOptionModel.label }}</div>\n          </div>\n        </ng-template>\n        <ng-template let-each pTemplate=\"item\">\n          <div>\n            <div>{{ each.label }}</div>\n          </div>\n        </ng-template>\n      </p-dropdown>\n    </div>\n  </div>\n  <div class=\"save-button-container\">\n    <button (click)=\"clear()\" class=\"btn btn-white-border-gray action-button\"><i class=\"fa fa-ban btn-icon\"></i>Filter\n      l\u00F6schen\n    </button>\n    <button (click)=\"emit()\" [class.btn-disabled]=\"selectedOptions.length === 0 && selectedOption === ''\"\n            [disabled]=\"selectedOptions.length === 0 && selectedOption === ''\"\n            class=\"btn btn-white-border-gray action-button\"><i\n      class=\"fa fa-filter btn-icon\"></i>Filtern\n    </button>\n  </div>\n</mat-menu>\n", styles: [".filter-container{display:flex;flex-direction:column;padding:8px 12px}.filter-button{padding:8px 20px;margin:8px 12px 12px 8px}.filter-icon{margin-right:4px;vertical-align:middle}.menu-opened{background-color:var(--engo-green);color:var(--engo-white);border-color:var(--engo-white)}.action-button{margin:20px 12px 12px}.save-button-container{display:flex;justify-content:right;margin-right:12px;flex-wrap:wrap}/deep/ .mat-mdc-menu-panel{max-width:412px!important}/deep/ .mat-mdc-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:var(--engo-green)!important}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "component", type: i2.MatMenu, selector: "mat-menu", exportAs: ["matMenu"] }, { kind: "directive", type: i2.MatMenuTrigger, selector: "[mat-menu-trigger-for], [matMenuTriggerFor]", exportAs: ["matMenuTrigger"] }, { kind: "directive", type: i3.MatBadge, selector: "[matBadge]", inputs: ["matBadgeDisabled", "matBadgeColor", "matBadgeOverlap", "matBadgePosition", "matBadge", "matBadgeDescription", "matBadgeSize", "matBadgeHidden"] }, { kind: "component", type: i4.Dropdown, selector: "p-dropdown", inputs: ["id", "scrollHeight", "filter", "name", "style", "panelStyle", "styleClass", "panelStyleClass", "readonly", "required", "editable", "appendTo", "tabindex", "placeholder", "filterPlaceholder", "filterLocale", "inputId", "dataKey", "filterBy", "filterFields", "autofocus", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "autoDisplayFirst", "group", "showClear", "emptyFilterMessage", "emptyMessage", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "ariaLabel", "ariaLabelledBy", "filterMatchMode", "maxlength", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "focusOnHover", "selectOnFocus", "autoOptionFocus", "autofocusFilter", "disabled", "itemSize", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "filterValue", "options"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onShow", "onHide", "onClear", "onLazyLoad"] }, { kind: "directive", type: i5.PrimeTemplate, selector: "[pTemplate]", inputs: ["type", "pTemplate"] }, { kind: "directive", type: i6.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i6.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "component", type: i7.MultiSelect, selector: "p-multiSelect", inputs: ["id", "ariaLabel", "style", "styleClass", "panelStyle", "panelStyleClass", "inputId", "disabled", "readonly", "group", "filter", "filterPlaceHolder", "filterLocale", "overlayVisible", "tabindex", "appendTo", "dataKey", "name", "ariaLabelledBy", "displaySelectedLabel", "maxSelectedLabels", "selectionLimit", "selectedItemsLabel", "showToggleAll", "emptyFilterMessage", "emptyMessage", "resetFilterOnHide", "dropdownIcon", "optionLabel", "optionValue", "optionDisabled", "optionGroupLabel", "optionGroupChildren", "showHeader", "filterBy", "scrollHeight", "lazy", "virtualScroll", "virtualScrollItemSize", "virtualScrollOptions", "overlayOptions", "ariaFilterLabel", "filterMatchMode", "tooltip", "tooltipPosition", "tooltipPositionStyle", "tooltipStyleClass", "autofocusFilter", "display", "autocomplete", "showClear", "autoZIndex", "baseZIndex", "showTransitionOptions", "hideTransitionOptions", "defaultLabel", "placeholder", "options", "filterValue", "itemSize", "selectAll", "focusOnHover", "filterFields", "selectOnFocus", "autoOptionFocus"], outputs: ["onChange", "onFilter", "onFocus", "onBlur", "onClick", "onClear", "onPanelShow", "onPanelHide", "onLazyLoad", "onRemove", "onSelectAllChange"] }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: UikTableFilterByListMenuComponent, decorators: [{
            type: Component,
            args: [{ selector: 'engo-uik-table-filter-by-list-menu', template: "<button #filtertrigger=\"matMenuTrigger\" [class.menu-opened]=\"filtertrigger.menuOpen\"\n        [matBadge]=\"!multiple && filteredOption !== '' ? 1 : filteredOptions.length === 0 ? undefined : filteredOptions.length\"\n        [matMenuTriggerFor]=\"filterMenu\"\n        class=\"btn btn-white-border-gray filter-button\">\n  <i class=\"fa-solid fa-filter filter-icon\"></i>{{label}}\n</button>\n<mat-menu #filterMenu>\n  <div (click)=\"$event.stopPropagation(); $event.preventDefault\" class=\"filter-container\">\n    <div class=\"multiple-filter\" *ngIf=\"multiple\">\n      <p-multiSelect [options]=\"options\" appendTo=\"body\" (onChange)=\"onSelectChange($event)\" [placeholder]=\"label\" [filter]=\"true\" filterBy=\"label\" [showClear]=\"false\" [(ngModel)]=\"selectedOptionsModel\" [defaultLabel]=\"label\" optionLabel=\"label\"\n                     class=\"multiselect-custom\">\n        <ng-template let-value pTemplate=\"selectedItems\">\n          <div class=\"country-item country-item-value\" *ngFor=\"let option of selectedOptionsModel\">\n            <div>{{option.label}}</div>\n          </div>\n          <div *ngIf=\"!selectedOptionsModel || selectedOptionsModel.length === 0\" class=\"country-placeholder\">\n            {{label}}\n          </div>\n        </ng-template>\n        <ng-template let-each pTemplate=\"item\">\n          <div class=\"country-item\">\n            <div>{{each.label}}</div>\n          </div>\n        </ng-template>\n      </p-multiSelect>\n    </div>\n    <div class=\"single-filter\" *ngIf=\"!multiple\">\n      <p-dropdown (onChange)=\"onSelectChange($event)\" appendTo=\"body\" [(ngModel)]=\"selectedOptionModel\" [filter]=\"true\" [options]=\"options\" [showClear]=\"false\" filterBy=\"label\" optionLabel=\"label\" [placeholder]=\"label\">\n        <ng-template pTemplate=\"selectedItem\">\n          <div *ngIf=\"!!selectedOptionModel\">\n            <div>{{ selectedOptionModel.label }}</div>\n          </div>\n        </ng-template>\n        <ng-template let-each pTemplate=\"item\">\n          <div>\n            <div>{{ each.label }}</div>\n          </div>\n        </ng-template>\n      </p-dropdown>\n    </div>\n  </div>\n  <div class=\"save-button-container\">\n    <button (click)=\"clear()\" class=\"btn btn-white-border-gray action-button\"><i class=\"fa fa-ban btn-icon\"></i>Filter\n      l\u00F6schen\n    </button>\n    <button (click)=\"emit()\" [class.btn-disabled]=\"selectedOptions.length === 0 && selectedOption === ''\"\n            [disabled]=\"selectedOptions.length === 0 && selectedOption === ''\"\n            class=\"btn btn-white-border-gray action-button\"><i\n      class=\"fa fa-filter btn-icon\"></i>Filtern\n    </button>\n  </div>\n</mat-menu>\n", styles: [".filter-container{display:flex;flex-direction:column;padding:8px 12px}.filter-button{padding:8px 20px;margin:8px 12px 12px 8px}.filter-icon{margin-right:4px;vertical-align:middle}.menu-opened{background-color:var(--engo-green);color:var(--engo-white);border-color:var(--engo-white)}.action-button{margin:20px 12px 12px}.save-button-container{display:flex;justify-content:right;margin-right:12px;flex-wrap:wrap}/deep/ .mat-mdc-menu-panel{max-width:412px!important}/deep/ .mat-mdc-slide-toggle.mat-checked:not(.mat-disabled) .mat-slide-toggle-thumb{background-color:var(--engo-green)!important}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { options: [{
                type: Input
            }], label: [{
                type: Input
            }], multiple: [{
                type: Input
            }], filterStatusEmitter: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUuY29tcG9uZW50LmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZW5nby11aS1raXQtbGliL3NyYy9saWIvdWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUvdWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUuY29tcG9uZW50LnRzIiwiLi4vLi4vLi4vLi4vLi4vcHJvamVjdHMvZW5nby11aS1raXQtbGliL3NyYy9saWIvdWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUvdWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUuY29tcG9uZW50Lmh0bWwiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUEsT0FBTyxFQUFFLFNBQVMsRUFBRSxZQUFZLEVBQUUsS0FBSyxFQUFVLE1BQU0sRUFBRSxNQUFNLGVBQWUsQ0FBQztBQUMvRSxPQUFPLEVBQUUsU0FBUyxJQUFJLFVBQVUsRUFBRSxNQUFNLFFBQVEsQ0FBQzs7Ozs7Ozs7O0FBT2pELE1BQU0sT0FBTyxpQ0FBaUM7SUFZN0M7UUFYQSxvQkFBZSxHQUFhLEVBQUUsQ0FBQztRQUMvQix3QkFBbUIsR0FBa0MsRUFBQyxFQUFFLEVBQUUsRUFBRSxFQUFFLEtBQUssRUFBRSxFQUFFLEVBQUMsQ0FBQztRQUN6RSx5QkFBb0IsR0FBb0MsRUFBRSxDQUFDO1FBQzNELG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3BCLG9CQUFlLEdBQWEsRUFBRSxDQUFDO1FBQy9CLG1CQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ1gsWUFBTyxHQUFvQyxFQUFFLENBQUM7UUFDOUMsVUFBSyxHQUFHLFNBQVMsQ0FBQztRQUNsQixhQUFRLEdBQUcsSUFBSSxDQUFDO1FBQ2Ysd0JBQW1CLEdBQUcsSUFBSSxZQUFZLEVBQXFCLENBQUM7SUFHdEUsQ0FBQztJQUVELFFBQVE7SUFDUixDQUFDO0lBRUQsSUFBSTtRQUNILElBQUksQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDLElBQUksQ0FBQyxjQUFjLENBQUMsQ0FBQztRQUN0RCxJQUFJLENBQUMsZUFBZSxHQUFHLFVBQVUsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUM7UUFDeEQsSUFBSSxDQUFDLG1CQUFtQixDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsUUFBUSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsZUFBZSxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUMsY0FBYyxDQUFDLENBQUM7SUFDM0YsQ0FBQztJQUVELEtBQUs7UUFDSixJQUFJLENBQUMsZUFBZSxHQUFHLEVBQUUsQ0FBQztRQUMxQixJQUFJLENBQUMsY0FBYyxHQUFHLEVBQUUsQ0FBQztRQUN6QixJQUFJLENBQUMsb0JBQW9CLEdBQUcsRUFBRSxDQUFDO1FBQy9CLElBQUksQ0FBQyxtQkFBbUIsR0FBRyxFQUFDLEVBQUUsRUFBRSxFQUFFLEVBQUUsS0FBSyxFQUFFLEVBQUUsRUFBQyxDQUFDO1FBQy9DLElBQUksQ0FBQyxjQUFjLEdBQUcsRUFBRSxDQUFDO1FBQ3pCLElBQUksQ0FBQyxlQUFlLEdBQUcsRUFBRSxDQUFDO1FBQzFCLElBQUksQ0FBQyxtQkFBbUIsQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGVBQWUsQ0FBQyxDQUFDO0lBQ3JELENBQUM7SUFFRCxjQUFjLENBQUMsTUFBVztRQUN6QixJQUFJLENBQUMsQ0FBQyxNQUFNLENBQUMsS0FBSyxFQUFFO1lBQ25CLElBQUksSUFBSSxDQUFDLFFBQVEsRUFBRTtnQkFDbEIsSUFBSSxDQUFDLGVBQWUsR0FBRyxNQUFNLENBQUMsS0FBSyxDQUFDLEdBQUcsQ0FBQyxDQUFDLENBQWUsRUFBRSxFQUFFLENBQUMsQ0FBQyxDQUFDLEVBQUUsQ0FBQyxDQUFDO2FBQ25FO2lCQUFNO2dCQUNOLElBQUksQ0FBQyxjQUFjLEdBQUcsTUFBTSxDQUFDLEtBQUssQ0FBQyxFQUFFLENBQUM7YUFDdEM7U0FDRDtJQUNGLENBQUM7K0dBMUNXLGlDQUFpQzttR0FBakMsaUNBQWlDLHlNQ1I5Qyx1ckZBb0RBOzs0RkQ1Q2EsaUNBQWlDO2tCQUw3QyxTQUFTOytCQUNDLG9DQUFvQzswRUFXckMsT0FBTztzQkFBZixLQUFLO2dCQUNHLEtBQUs7c0JBQWIsS0FBSztnQkFDRyxRQUFRO3NCQUFoQixLQUFLO2dCQUNJLG1CQUFtQjtzQkFBNUIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IGNsb25lRGVlcCBhcyBfY2xvbmVEZWVwIH0gZnJvbSBcImxvZGFzaFwiO1xuXG5AQ29tcG9uZW50KHtcblx0c2VsZWN0b3I6ICdlbmdvLXVpay10YWJsZS1maWx0ZXItYnktbGlzdC1tZW51Jyxcblx0dGVtcGxhdGVVcmw6ICcuL3Vpay10YWJsZS1maWx0ZXItYnktbGlzdC1tZW51LmNvbXBvbmVudC5odG1sJyxcblx0c3R5bGVVcmxzOiBbJy4vdWlrLXRhYmxlLWZpbHRlci1ieS1saXN0LW1lbnUuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFVpa1RhYmxlRmlsdGVyQnlMaXN0TWVudUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cdHNlbGVjdGVkT3B0aW9uczogc3RyaW5nW10gPSBbXTtcblx0c2VsZWN0ZWRPcHRpb25Nb2RlbDogeyBpZDogc3RyaW5nLCBsYWJlbDogc3RyaW5nIH0gPSB7aWQ6ICcnLCBsYWJlbDogJyd9O1xuXHRzZWxlY3RlZE9wdGlvbnNNb2RlbDogeyBpZDogc3RyaW5nLCBsYWJlbDogc3RyaW5nIH1bXSA9IFtdO1xuXHRzZWxlY3RlZE9wdGlvbiA9ICcnO1xuXHRmaWx0ZXJlZE9wdGlvbnM6IHN0cmluZ1tdID0gW107XG5cdGZpbHRlcmVkT3B0aW9uID0gJyc7XG5cdEBJbnB1dCgpIG9wdGlvbnM6IHsgaWQ6IHN0cmluZywgbGFiZWw6IHN0cmluZyB9W10gPSBbXTtcblx0QElucHV0KCkgbGFiZWwgPSAnRmlsdGVybic7XG5cdEBJbnB1dCgpIG11bHRpcGxlID0gdHJ1ZTtcblx0QE91dHB1dCgpIGZpbHRlclN0YXR1c0VtaXR0ZXIgPSBuZXcgRXZlbnRFbWl0dGVyPHN0cmluZ1tdIHwgc3RyaW5nPigpO1xuXG5cdGNvbnN0cnVjdG9yKCkge1xuXHR9XG5cblx0bmdPbkluaXQoKTogdm9pZCB7XG5cdH1cblxuXHRlbWl0KCkge1xuXHRcdHRoaXMuZmlsdGVyZWRPcHRpb24gPSBfY2xvbmVEZWVwKHRoaXMuc2VsZWN0ZWRPcHRpb24pO1xuXHRcdHRoaXMuZmlsdGVyZWRPcHRpb25zID0gX2Nsb25lRGVlcCh0aGlzLnNlbGVjdGVkT3B0aW9ucyk7XG5cdFx0dGhpcy5maWx0ZXJTdGF0dXNFbWl0dGVyLmVtaXQodGhpcy5tdWx0aXBsZSA/IHRoaXMuc2VsZWN0ZWRPcHRpb25zIDogdGhpcy5zZWxlY3RlZE9wdGlvbik7XG5cdH1cblxuXHRjbGVhcigpIHtcblx0XHR0aGlzLnNlbGVjdGVkT3B0aW9ucyA9IFtdO1xuXHRcdHRoaXMuc2VsZWN0ZWRPcHRpb24gPSAnJztcblx0XHR0aGlzLnNlbGVjdGVkT3B0aW9uc01vZGVsID0gW107XG5cdFx0dGhpcy5zZWxlY3RlZE9wdGlvbk1vZGVsID0ge2lkOiAnJywgbGFiZWw6ICcnfTtcblx0XHR0aGlzLmZpbHRlcmVkT3B0aW9uID0gJyc7XG5cdFx0dGhpcy5maWx0ZXJlZE9wdGlvbnMgPSBbXTtcblx0XHR0aGlzLmZpbHRlclN0YXR1c0VtaXR0ZXIuZW1pdCh0aGlzLnNlbGVjdGVkT3B0aW9ucyk7XG5cdH1cblxuXHRvblNlbGVjdENoYW5nZSgkZXZlbnQ6IGFueSkge1xuXHRcdGlmICghISRldmVudC52YWx1ZSkge1xuXHRcdFx0aWYgKHRoaXMubXVsdGlwbGUpIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZE9wdGlvbnMgPSAkZXZlbnQudmFsdWUubWFwKCh2OiB7IGlkOiBhbnk7IH0pID0+IHYuaWQpO1xuXHRcdFx0fSBlbHNlIHtcblx0XHRcdFx0dGhpcy5zZWxlY3RlZE9wdGlvbiA9ICRldmVudC52YWx1ZS5pZDtcblx0XHRcdH1cblx0XHR9XG5cdH1cbn1cbiIsIjxidXR0b24gI2ZpbHRlcnRyaWdnZXI9XCJtYXRNZW51VHJpZ2dlclwiIFtjbGFzcy5tZW51LW9wZW5lZF09XCJmaWx0ZXJ0cmlnZ2VyLm1lbnVPcGVuXCJcbiAgICAgICAgW21hdEJhZGdlXT1cIiFtdWx0aXBsZSAmJiBmaWx0ZXJlZE9wdGlvbiAhPT0gJycgPyAxIDogZmlsdGVyZWRPcHRpb25zLmxlbmd0aCA9PT0gMCA/IHVuZGVmaW5lZCA6IGZpbHRlcmVkT3B0aW9ucy5sZW5ndGhcIlxuICAgICAgICBbbWF0TWVudVRyaWdnZXJGb3JdPVwiZmlsdGVyTWVudVwiXG4gICAgICAgIGNsYXNzPVwiYnRuIGJ0bi13aGl0ZS1ib3JkZXItZ3JheSBmaWx0ZXItYnV0dG9uXCI+XG4gIDxpIGNsYXNzPVwiZmEtc29saWQgZmEtZmlsdGVyIGZpbHRlci1pY29uXCI+PC9pPnt7bGFiZWx9fVxuPC9idXR0b24+XG48bWF0LW1lbnUgI2ZpbHRlck1lbnU+XG4gIDxkaXYgKGNsaWNrKT1cIiRldmVudC5zdG9wUHJvcGFnYXRpb24oKTsgJGV2ZW50LnByZXZlbnREZWZhdWx0XCIgY2xhc3M9XCJmaWx0ZXItY29udGFpbmVyXCI+XG4gICAgPGRpdiBjbGFzcz1cIm11bHRpcGxlLWZpbHRlclwiICpuZ0lmPVwibXVsdGlwbGVcIj5cbiAgICAgIDxwLW11bHRpU2VsZWN0IFtvcHRpb25zXT1cIm9wdGlvbnNcIiBhcHBlbmRUbz1cImJvZHlcIiAob25DaGFuZ2UpPVwib25TZWxlY3RDaGFuZ2UoJGV2ZW50KVwiIFtwbGFjZWhvbGRlcl09XCJsYWJlbFwiIFtmaWx0ZXJdPVwidHJ1ZVwiIGZpbHRlckJ5PVwibGFiZWxcIiBbc2hvd0NsZWFyXT1cImZhbHNlXCIgWyhuZ01vZGVsKV09XCJzZWxlY3RlZE9wdGlvbnNNb2RlbFwiIFtkZWZhdWx0TGFiZWxdPVwibGFiZWxcIiBvcHRpb25MYWJlbD1cImxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgIGNsYXNzPVwibXVsdGlzZWxlY3QtY3VzdG9tXCI+XG4gICAgICAgIDxuZy10ZW1wbGF0ZSBsZXQtdmFsdWUgcFRlbXBsYXRlPVwic2VsZWN0ZWRJdGVtc1wiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb3VudHJ5LWl0ZW0gY291bnRyeS1pdGVtLXZhbHVlXCIgKm5nRm9yPVwibGV0IG9wdGlvbiBvZiBzZWxlY3RlZE9wdGlvbnNNb2RlbFwiPlxuICAgICAgICAgICAgPGRpdj57e29wdGlvbi5sYWJlbH19PC9kaXY+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgICAgPGRpdiAqbmdJZj1cIiFzZWxlY3RlZE9wdGlvbnNNb2RlbCB8fCBzZWxlY3RlZE9wdGlvbnNNb2RlbC5sZW5ndGggPT09IDBcIiBjbGFzcz1cImNvdW50cnktcGxhY2Vob2xkZXJcIj5cbiAgICAgICAgICAgIHt7bGFiZWx9fVxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWVhY2ggcFRlbXBsYXRlPVwiaXRlbVwiPlxuICAgICAgICAgIDxkaXYgY2xhc3M9XCJjb3VudHJ5LWl0ZW1cIj5cbiAgICAgICAgICAgIDxkaXY+e3tlYWNoLmxhYmVsfX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvcC1tdWx0aVNlbGVjdD5cbiAgICA8L2Rpdj5cbiAgICA8ZGl2IGNsYXNzPVwic2luZ2xlLWZpbHRlclwiICpuZ0lmPVwiIW11bHRpcGxlXCI+XG4gICAgICA8cC1kcm9wZG93biAob25DaGFuZ2UpPVwib25TZWxlY3RDaGFuZ2UoJGV2ZW50KVwiIGFwcGVuZFRvPVwiYm9keVwiIFsobmdNb2RlbCldPVwic2VsZWN0ZWRPcHRpb25Nb2RlbFwiIFtmaWx0ZXJdPVwidHJ1ZVwiIFtvcHRpb25zXT1cIm9wdGlvbnNcIiBbc2hvd0NsZWFyXT1cImZhbHNlXCIgZmlsdGVyQnk9XCJsYWJlbFwiIG9wdGlvbkxhYmVsPVwibGFiZWxcIiBbcGxhY2Vob2xkZXJdPVwibGFiZWxcIj5cbiAgICAgICAgPG5nLXRlbXBsYXRlIHBUZW1wbGF0ZT1cInNlbGVjdGVkSXRlbVwiPlxuICAgICAgICAgIDxkaXYgKm5nSWY9XCIhIXNlbGVjdGVkT3B0aW9uTW9kZWxcIj5cbiAgICAgICAgICAgIDxkaXY+e3sgc2VsZWN0ZWRPcHRpb25Nb2RlbC5sYWJlbCB9fTwvZGl2PlxuICAgICAgICAgIDwvZGl2PlxuICAgICAgICA8L25nLXRlbXBsYXRlPlxuICAgICAgICA8bmctdGVtcGxhdGUgbGV0LWVhY2ggcFRlbXBsYXRlPVwiaXRlbVwiPlxuICAgICAgICAgIDxkaXY+XG4gICAgICAgICAgICA8ZGl2Pnt7IGVhY2gubGFiZWwgfX08L2Rpdj5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgPC9uZy10ZW1wbGF0ZT5cbiAgICAgIDwvcC1kcm9wZG93bj5cbiAgICA8L2Rpdj5cbiAgPC9kaXY+XG4gIDxkaXYgY2xhc3M9XCJzYXZlLWJ1dHRvbi1jb250YWluZXJcIj5cbiAgICA8YnV0dG9uIChjbGljayk9XCJjbGVhcigpXCIgY2xhc3M9XCJidG4gYnRuLXdoaXRlLWJvcmRlci1ncmF5IGFjdGlvbi1idXR0b25cIj48aSBjbGFzcz1cImZhIGZhLWJhbiBidG4taWNvblwiPjwvaT5GaWx0ZXJcbiAgICAgIGzDtnNjaGVuXG4gICAgPC9idXR0b24+XG4gICAgPGJ1dHRvbiAoY2xpY2spPVwiZW1pdCgpXCIgW2NsYXNzLmJ0bi1kaXNhYmxlZF09XCJzZWxlY3RlZE9wdGlvbnMubGVuZ3RoID09PSAwICYmIHNlbGVjdGVkT3B0aW9uID09PSAnJ1wiXG4gICAgICAgICAgICBbZGlzYWJsZWRdPVwic2VsZWN0ZWRPcHRpb25zLmxlbmd0aCA9PT0gMCAmJiBzZWxlY3RlZE9wdGlvbiA9PT0gJydcIlxuICAgICAgICAgICAgY2xhc3M9XCJidG4gYnRuLXdoaXRlLWJvcmRlci1ncmF5IGFjdGlvbi1idXR0b25cIj48aVxuICAgICAgY2xhc3M9XCJmYSBmYS1maWx0ZXIgYnRuLWljb25cIj48L2k+RmlsdGVyblxuICAgIDwvYnV0dG9uPlxuICA8L2Rpdj5cbjwvbWF0LW1lbnU+XG4iXX0=