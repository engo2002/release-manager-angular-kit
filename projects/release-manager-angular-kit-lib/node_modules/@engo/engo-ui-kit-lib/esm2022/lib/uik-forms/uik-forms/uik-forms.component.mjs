import { Component, EventEmitter, Input, Output } from '@angular/core';
import * as _ from 'lodash';
import * as i0 from "@angular/core";
import * as i1 from "@angular/common";
import * as i2 from "@angular/forms";
import * as i3 from "@angular/material/form-field";
import * as i4 from "@angular/material/select";
import * as i5 from "@angular/material/core";
import * as i6 from "@ng-select/ng-select";
export class UikFormsComponent {
    constructor() {
        this.formStructure = [];
        this.submitData = new EventEmitter();
        this.inputLiveData = new EventEmitter();
        this.selectValue = new EventEmitter();
        this.selectSearchValue = new EventEmitter();
        this.validationResult = new EventEmitter();
        this.changes = 0;
        this.checkboxValue = false;
        this.inputNgModel = [];
        this.validationResults = [];
        this.selectSearchNgModelObject = [];
    }
    ngOnInit() {
        this.formStructure.forEach((element, index) => {
            if (element.inputContent && element.inputContent.inputValueDefault) {
                this.inputNgModel[index] = element.inputContent.inputValueDefault;
            }
            if (element.selectSearchContent) {
                this.selectSearchNgModelObject[element.selectSearchContent.selectIndex] = null;
            }
        });
    }
    ngAfterViewInit() {
        this.formStructure.forEach((element, index) => {
            if (element.inputContent) {
                if (element.inputContent.inputValueDefault) {
                    const htmlElement = document.getElementById('inp-' + index);
                    if (htmlElement && !_.isEmpty(htmlElement.value)) {
                        htmlElement.value = element.inputContent.inputValueDefault;
                    }
                }
            }
        });
    }
    onSubmit(form) {
        this.checkValidation();
        if (this.changes !== 0) {
            this.changes = 0;
            this.previousFormData = form.value;
            this.submitData.emit(form);
        }
    }
    onChange(form) {
        this.checkValidation();
        this.inputLiveData?.emit(form);
    }
    getSelectedValue(select) {
        this.selectValue.emit(select.value);
    }
    getSelectSearchValue(index) {
        this.changes++;
        this.selectSearchValue.emit({
            index,
            value: this.selectSearchNgModelObject[index]
        });
    }
    checkboxChangeEmit(event) {
        this.checkboxValue = event.checked;
    }
    checkValidation() {
        const results = [];
        this.formStructure.forEach((field, index) => {
            if (field.type === 'input' && field.inputContent) {
                const currentInput = this.inputNgModel[index];
                const result = {
                    valid: true,
                    value: String(currentInput),
                    errorMessage: []
                };
                if (field.inputContent.inputNgModelRequired && _.isEmpty(currentInput)) {
                    result.valid = false;
                    if (field.inputContent.inputAlerting?.alertErrorTextRequired) {
                        result.errorMessage.push(field.inputContent.inputAlerting?.alertErrorTextRequired);
                    }
                    else {
                        result.errorMessage.push('Das Feld ist ein Pflichtfeld.');
                    }
                }
                if (field.inputContent.inputNgModelMinLength && currentInput.length < field.inputContent.inputNgModelMinLength) {
                    result.valid = false;
                    if (field.inputContent.inputAlerting?.alertErrorTextLength) {
                        result.errorMessage.push(field.inputContent.inputAlerting?.alertErrorTextLength);
                    }
                    else {
                        result.errorMessage?.push('Der Wert entspricht nicht der Länge von mindestens ' + field.inputContent.inputNgModelMinLength + ' und maximal ' + field.inputContent.inputNgModelMaxLength + ' Zeichen.');
                    }
                }
                if (field.inputContent.inputNgModelMaxLength && currentInput.length > field.inputContent.inputNgModelMaxLength) {
                    result.valid = false;
                    if (field.inputContent.inputAlerting?.alertErrorTextLength) {
                        result.errorMessage.push(field.inputContent.inputAlerting?.alertErrorTextLength);
                    }
                    else {
                        result.errorMessage?.push('Der Wert entspricht nicht der Länge von mindestens ' + field.inputContent.inputNgModelMinLength + ' und maximal ' + field.inputContent.inputNgModelMaxLength + ' Zeichen.');
                    }
                }
                if (field.inputContent.inputValidationPattern && !new RegExp(field.inputContent.inputValidationPattern).test(currentInput)) {
                    result.valid = false;
                    if (field.inputContent.inputAlerting?.alertErrorTextPattern) {
                        result.errorMessage.push(field.inputContent.inputAlerting?.alertErrorTextPattern);
                    }
                    else {
                        result.errorMessage.push('Der Wert entspricht nicht der geforderten Struktur.');
                    }
                }
                results[index] = result;
            }
        });
        this.validationResults = results;
        this.validationResult.emit(this.validationResults);
        return results;
    }
    hasChanged(formfield, current) {
        if (formfield.inputName) {
            const previous = this.previousFormData ? this.previousFormData[formfield.inputName] : null;
            if (previous !== current) {
                this.changes++;
            }
            else {
                this.changes = 0;
            }
        }
    }
    static { this.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: UikFormsComponent, deps: [], target: i0.ɵɵFactoryTarget.Component }); }
    static { this.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: "14.0.0", version: "16.2.12", type: UikFormsComponent, selector: "engo-uik-forms", inputs: { formStructure: "formStructure" }, outputs: { submitData: "submitData", inputLiveData: "inputLiveData", selectValue: "selectValue", selectSearchValue: "selectSearchValue", validationResult: "validationResult" }, ngImport: i0, template: "<form #form=\"ngForm\" (change)=\"onChange(form)\" (ngSubmit)=\"onSubmit(form)\" class=\"form\" ngNativeValidate>\n\n  <ng-container *ngFor=\"let element of formStructure; let i = index\">\n    <div *ngIf=\"element.type === 'select' && element.selectContent\" [id]=\"'form-field-select'\">\n      <div class=\"formelement\">\n        <mat-form-field appearance=\"fill\" class=\"selectbox\">\n          <mat-label>{{element.selectContent.selectLabel}}</mat-label>\n          <mat-select (selectionChange)=\"getSelectedValue($event); changes = changes + 1\">\n            <mat-option *ngFor=\"let selectElement of element.selectContent.selectOptionItems\"\n                        [value]=\"selectElement.selectOptionValue\"> {{selectElement.selectOptionLabel}} </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n    </div>\n\n    <div *ngIf=\"element.type === 'select-search' && element.selectSearchContent\" [class]=\"'select-search'\"\n         [id]=\"'form-field-select-search'\">\n      <label class=\"select-search-label\">{{element.selectSearchContent.label}}</label>\n      <ng-select (change)=\"getSelectSearchValue(element.selectSearchContent.selectIndex)\"\n                 [(ngModel)]=\"selectSearchNgModelObject[element.selectSearchContent.selectIndex]\"\n                 [bindLabel]=\"element.selectSearchContent.bindLabel\"\n                 [bindValue]=\"element.selectSearchContent.bindValue\"\n                 [items]=\"element.selectSearchContent.items | async\"\n                 [multiple]=\"element.selectSearchContent.multiple\"\n                 [placeholder]=\"element.selectSearchContent.placeholder\">\n      </ng-select>\n    </div>\n    <div *ngIf=\"element.type === 'input' && element.inputContent\" [class]=\"'form-field-input'\">\n      <div *ngIf=\"element.inputContent.inputNgModelRequired === false\"\n           [class]=\"'form-field form-field-input form-field-input-novalidation'\">\n        <label [for]=\"'inp-novalidation-' + i\" class=\"inp\">\n          <input (ngModelChange)=\"hasChanged(element.inputContent, $event)\"\n                 [(ngModel)]=\"inputNgModel[i]\"\n                 [class]=\"'inp'\"\n                 [disabled]=\"element.inputContent.inputDisabled ? element.inputContent.inputDisabled : false\"\n                 [id]=\"'inp-novalidation-' + i\"\n                 [name]=\"element.inputContent.inputName\"\n                 [pattern]=\"!!element.inputContent.inputValidationPattern ? element.inputContent.inputValidationPattern : '.*'\"\n                 [type]=\"element.inputContent.inputType\"\n                 [value]=\"element.inputContent.inputValueDefault\"\n                 ngModel\n                 placeholder=\"&nbsp;\">\n          <span class=\"label\">{{element.inputContent.inputLabel}}</span>\n          <span class=\"focus-bg\"></span>\n        </label>\n      </div>\n      <div *ngIf=\"element.inputContent.inputNgModelRequired === true\"\n           [class]=\"'form-field form-field-input form-field-input-validation'\">\n        <label [for]=\"'inp-' + i\" class=\"inp\">\n          <input (ngModelChange)=\"hasChanged(element.inputContent, $event); checkValidation()\"\n                 [(ngModel)]=\"inputNgModel[i]\"\n                 [class]=\"'inp'\"\n                 [disabled]=\"element.inputContent.inputDisabled ? element.inputContent.inputDisabled : false\"\n                 [id]=\"'inp-' + i\"\n                 [maxlength]=\"element.inputContent.inputNgModelMaxLength ? element.inputContent.inputNgModelMaxLength : ''\"\n                 [minlength]=\"element.inputContent.inputNgModelMinLength ? element.inputContent.inputNgModelMinLength : ''\"\n                 [name]=\"element.inputContent.inputName\"\n                 [pattern]=\"!!element.inputContent.inputValidationPattern ? element.inputContent.inputValidationPattern : '.*'\" [type]=\"element.inputContent.inputType\"\n                 [value]=\"element.inputContent.inputValueDefault\"\n                 ngModel\n                 placeholder=\"&nbsp;\"\n                 required>\n          <span class=\"label\">{{element.inputContent.inputLabel}}</span>\n          <span class=\"focus-bg\"></span>\n        </label>\n        <div *ngIf=\"!!validationResults[i]\">\n          <div *ngIf=\"validationResults[i].errorMessage.length > 0\">\n            <p *ngFor=\"let error of validationResults[i].errorMessage\" class=\"alert\">{{error}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf=\"element.type === 'checkbox' && element.checkboxContent\" [class]=\"'form-field form-field-checkbox'\">\n      <input (change)=\"checkboxChangeEmit($event); changes = changes + 1\"\n             [checked]=\"element.checkboxContent.checkboxCheckedState\"\n             [id]=\"element.checkboxContent.checkboxId ? element.checkboxContent.checkboxId : element.checkboxContent.checkboxName\" [name]=\"element.checkboxContent.checkboxName\" class=\"inp-cbx\"\n             ngModel\n             style=\"display: none\" type=\"checkbox\"><label [for]=\"element.checkboxContent.checkboxName\"\n                                                                                         class=\"cbx\"><span\n      id=\"span-cbx-checkbox\"><svg height=\"10px\" viewbox=\"0 0 12 10\" width=\"12px\">\n                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg></span><span class=\"label\"\n                               id=\"span-cbx-label\">{{element.checkboxContent.checkboxLabel}}</span></label>\n\n    </div>\n\n    <div *ngIf=\"element.type === 'submit' && element.submitContent\" [class]=\"'form-field form-field-submit'\">\n      <button [class]=\"element.submitContent.submitDisabled || !form.valid || changes === 0 ? 'btn btn-disabled' : 'btn btn-submit'\"\n              [disabled]=\"!(element.submitContent) || element.submitContent.submitDisabled || !form.valid || changes === 0\"\n              type=\"submit\"\n              value=\"Send\"><i\n        [class]=\"!(element.submitContent) || element.submitContent.submitIconFaClass ? element.submitContent.submitIconFaClass : 'fa fa-cog'\"\n        class=\"btn-icon\"></i>{{element.submitContent.submitLabel}}</button>\n    </div>\n\n    <div *ngIf=\"element.type === 'header' && element.headerContent\" class=\"form-field form-field-header\">\n      <h1 *ngIf=\"element.headerContent.headerFormat === 'h1'\">{{element.headerContent.headerTitle}}</h1>\n      <h2 *ngIf=\"element.headerContent.headerFormat === 'h2'\">{{element.headerContent.headerTitle}}</h2>\n      <h3 *ngIf=\"element.headerContent.headerFormat === 'h3'\">{{element.headerContent.headerTitle}}</h3>\n    </div>\n  </ng-container>\n</form>\n", styles: [".select-search{margin-top:12px;margin-bottom:12px}.select-search-label{color:#00000080}mat-form-field{width:100%;width:-webkit-fill-available;width:available}.alert{font-size:11pt!important}.form-field{margin-bottom:8px}.form-field-input{display:grid}.form-field-checkbox{margin-top:16px;margin-bottom:16px}.form{height:20%;display:inline-grid;font-family:Open Sans,sans-serif!important;font-weight:500!important;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;box-sizing:border-box;width:100%;max-width:500px}.inp{position:relative;margin:auto;width:100%;border-radius:3px;overflow:hidden}.inp .label{position:absolute;top:20px;left:4px;font-size:14px;color:#00000080;font-weight:500;transform-origin:0 0;transform:translateZ(0);transition:all .2s ease;pointer-events:none}.inp .focus-bg{position:absolute;top:0;left:0;width:100%;height:100%;background:#0000000d;z-index:-1;transform:scaleX(0);transform-origin:left}.inp input{appearance:none;width:100%;border:0;font-family:Open Sans,sans-serif!important;font-weight:500!important;padding:32px 4px 16px;height:28px;font-size:12px;font-weight:400;background:#fff0;box-shadow:inset 0 -1px #0000004d;color:#000;transition:all .15s ease}.inp input:hover{background:#c3c3c3;box-shadow:inset 0 -1px #00000080}.inp input:not(:placeholder-shown)+.label{color:#00000080;transform:translate3d(0,-12px,0) scale(.75)}.inp input:focus{background:#0000000d;outline:none;box-shadow:inset 0 -2px #00823e}.inp input:focus+.label{color:#01592d;transform:translate3d(0,-12px,0) scale(.75)}::ng-deep .snackbar{background:#01592d}::ng-deep .snackbar-error{background:#a71b03!important}.cbx{margin:auto;-webkit-user-select:none;user-select:none;cursor:pointer}.cbx span{display:inline-block;vertical-align:middle;transform:translateZ(0)}.cbx span:first-child{position:relative;width:18px;height:18px;border-radius:3px;transform:scale(1);vertical-align:middle;border:1px solid #9098a9;transition:all .2s ease}.cbx span:first-child svg{position:absolute;top:3px;left:2px;fill:none;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:16px;stroke-dashoffset:16px;transition:all .3s ease;transition-delay:.1s;transform:translateZ(0)}.cbx span:last-child{padding-left:8px}.cbx:hover span:first-child{border-color:#00823e}.inp-cbx:checked+.cbx span:first-child{background:#00823e;border-color:#949494;animation:wave .4s ease}.inp-cbx:checked+.cbx span:first-child svg{stroke-dashoffset:0}.inp-cbx:checked+.cbx span:first-child:before{transform:scale(3.5);opacity:0;transition:all .6s ease}\n"], dependencies: [{ kind: "directive", type: i1.NgForOf, selector: "[ngFor][ngForOf]", inputs: ["ngForOf", "ngForTrackBy", "ngForTemplate"] }, { kind: "directive", type: i1.NgIf, selector: "[ngIf]", inputs: ["ngIf", "ngIfThen", "ngIfElse"] }, { kind: "directive", type: i2.DefaultValueAccessor, selector: "input:not([type=checkbox])[formControlName],textarea[formControlName],input:not([type=checkbox])[formControl],textarea[formControl],input:not([type=checkbox])[ngModel],textarea[ngModel],[ngDefaultControl]" }, { kind: "directive", type: i2.CheckboxControlValueAccessor, selector: "input[type=checkbox][formControlName],input[type=checkbox][formControl],input[type=checkbox][ngModel]" }, { kind: "directive", type: i2.NgControlStatus, selector: "[formControlName],[ngModel],[formControl]" }, { kind: "directive", type: i2.NgControlStatusGroup, selector: "[formGroupName],[formArrayName],[ngModelGroup],[formGroup],form:not([ngNoForm]),[ngForm]" }, { kind: "directive", type: i2.RequiredValidator, selector: ":not([type=checkbox])[required][formControlName],:not([type=checkbox])[required][formControl],:not([type=checkbox])[required][ngModel]", inputs: ["required"] }, { kind: "directive", type: i2.MinLengthValidator, selector: "[minlength][formControlName],[minlength][formControl],[minlength][ngModel]", inputs: ["minlength"] }, { kind: "directive", type: i2.MaxLengthValidator, selector: "[maxlength][formControlName],[maxlength][formControl],[maxlength][ngModel]", inputs: ["maxlength"] }, { kind: "directive", type: i2.PatternValidator, selector: "[pattern][formControlName],[pattern][formControl],[pattern][ngModel]", inputs: ["pattern"] }, { kind: "directive", type: i2.NgModel, selector: "[ngModel]:not([formControlName]):not([formControl])", inputs: ["name", "disabled", "ngModel", "ngModelOptions"], outputs: ["ngModelChange"], exportAs: ["ngModel"] }, { kind: "directive", type: i2.NgForm, selector: "form:not([ngNoForm]):not([formGroup]),ng-form,[ngForm]", inputs: ["ngFormOptions"], outputs: ["ngSubmit"], exportAs: ["ngForm"] }, { kind: "component", type: i3.MatFormField, selector: "mat-form-field", inputs: ["hideRequiredMarker", "color", "floatLabel", "appearance", "subscriptSizing", "hintLabel"], exportAs: ["matFormField"] }, { kind: "directive", type: i3.MatLabel, selector: "mat-label" }, { kind: "component", type: i4.MatSelect, selector: "mat-select", inputs: ["disabled", "disableRipple", "tabIndex", "panelWidth", "hideSingleSelectionIndicator"], exportAs: ["matSelect"] }, { kind: "component", type: i5.MatOption, selector: "mat-option", exportAs: ["matOption"] }, { kind: "component", type: i6.NgSelectComponent, selector: "ng-select", inputs: ["bindLabel", "bindValue", "markFirst", "placeholder", "notFoundText", "typeToSearchText", "addTagText", "loadingText", "clearAllText", "appearance", "dropdownPosition", "appendTo", "loading", "closeOnSelect", "hideSelected", "selectOnTab", "openOnEnter", "maxSelectedItems", "groupBy", "groupValue", "bufferAmount", "virtualScroll", "selectableGroup", "selectableGroupAsModel", "searchFn", "trackByFn", "clearOnBackspace", "labelForId", "inputAttrs", "tabIndex", "readonly", "searchWhileComposing", "minTermLength", "editableSearchTerm", "keyDownFn", "typeahead", "multiple", "addTag", "searchable", "clearable", "isOpen", "items", "compareWith", "clearSearchOnAdd", "deselectOnClick"], outputs: ["blur", "focus", "change", "open", "close", "search", "clear", "add", "remove", "scroll", "scrollToEnd"] }, { kind: "pipe", type: i1.AsyncPipe, name: "async" }] }); }
}
i0.ɵɵngDeclareClassMetadata({ minVersion: "12.0.0", version: "16.2.12", ngImport: i0, type: UikFormsComponent, decorators: [{
            type: Component,
            args: [{ selector: 'engo-uik-forms', template: "<form #form=\"ngForm\" (change)=\"onChange(form)\" (ngSubmit)=\"onSubmit(form)\" class=\"form\" ngNativeValidate>\n\n  <ng-container *ngFor=\"let element of formStructure; let i = index\">\n    <div *ngIf=\"element.type === 'select' && element.selectContent\" [id]=\"'form-field-select'\">\n      <div class=\"formelement\">\n        <mat-form-field appearance=\"fill\" class=\"selectbox\">\n          <mat-label>{{element.selectContent.selectLabel}}</mat-label>\n          <mat-select (selectionChange)=\"getSelectedValue($event); changes = changes + 1\">\n            <mat-option *ngFor=\"let selectElement of element.selectContent.selectOptionItems\"\n                        [value]=\"selectElement.selectOptionValue\"> {{selectElement.selectOptionLabel}} </mat-option>\n          </mat-select>\n        </mat-form-field>\n      </div>\n    </div>\n\n    <div *ngIf=\"element.type === 'select-search' && element.selectSearchContent\" [class]=\"'select-search'\"\n         [id]=\"'form-field-select-search'\">\n      <label class=\"select-search-label\">{{element.selectSearchContent.label}}</label>\n      <ng-select (change)=\"getSelectSearchValue(element.selectSearchContent.selectIndex)\"\n                 [(ngModel)]=\"selectSearchNgModelObject[element.selectSearchContent.selectIndex]\"\n                 [bindLabel]=\"element.selectSearchContent.bindLabel\"\n                 [bindValue]=\"element.selectSearchContent.bindValue\"\n                 [items]=\"element.selectSearchContent.items | async\"\n                 [multiple]=\"element.selectSearchContent.multiple\"\n                 [placeholder]=\"element.selectSearchContent.placeholder\">\n      </ng-select>\n    </div>\n    <div *ngIf=\"element.type === 'input' && element.inputContent\" [class]=\"'form-field-input'\">\n      <div *ngIf=\"element.inputContent.inputNgModelRequired === false\"\n           [class]=\"'form-field form-field-input form-field-input-novalidation'\">\n        <label [for]=\"'inp-novalidation-' + i\" class=\"inp\">\n          <input (ngModelChange)=\"hasChanged(element.inputContent, $event)\"\n                 [(ngModel)]=\"inputNgModel[i]\"\n                 [class]=\"'inp'\"\n                 [disabled]=\"element.inputContent.inputDisabled ? element.inputContent.inputDisabled : false\"\n                 [id]=\"'inp-novalidation-' + i\"\n                 [name]=\"element.inputContent.inputName\"\n                 [pattern]=\"!!element.inputContent.inputValidationPattern ? element.inputContent.inputValidationPattern : '.*'\"\n                 [type]=\"element.inputContent.inputType\"\n                 [value]=\"element.inputContent.inputValueDefault\"\n                 ngModel\n                 placeholder=\"&nbsp;\">\n          <span class=\"label\">{{element.inputContent.inputLabel}}</span>\n          <span class=\"focus-bg\"></span>\n        </label>\n      </div>\n      <div *ngIf=\"element.inputContent.inputNgModelRequired === true\"\n           [class]=\"'form-field form-field-input form-field-input-validation'\">\n        <label [for]=\"'inp-' + i\" class=\"inp\">\n          <input (ngModelChange)=\"hasChanged(element.inputContent, $event); checkValidation()\"\n                 [(ngModel)]=\"inputNgModel[i]\"\n                 [class]=\"'inp'\"\n                 [disabled]=\"element.inputContent.inputDisabled ? element.inputContent.inputDisabled : false\"\n                 [id]=\"'inp-' + i\"\n                 [maxlength]=\"element.inputContent.inputNgModelMaxLength ? element.inputContent.inputNgModelMaxLength : ''\"\n                 [minlength]=\"element.inputContent.inputNgModelMinLength ? element.inputContent.inputNgModelMinLength : ''\"\n                 [name]=\"element.inputContent.inputName\"\n                 [pattern]=\"!!element.inputContent.inputValidationPattern ? element.inputContent.inputValidationPattern : '.*'\" [type]=\"element.inputContent.inputType\"\n                 [value]=\"element.inputContent.inputValueDefault\"\n                 ngModel\n                 placeholder=\"&nbsp;\"\n                 required>\n          <span class=\"label\">{{element.inputContent.inputLabel}}</span>\n          <span class=\"focus-bg\"></span>\n        </label>\n        <div *ngIf=\"!!validationResults[i]\">\n          <div *ngIf=\"validationResults[i].errorMessage.length > 0\">\n            <p *ngFor=\"let error of validationResults[i].errorMessage\" class=\"alert\">{{error}}</p>\n          </div>\n        </div>\n      </div>\n    </div>\n\n    <div *ngIf=\"element.type === 'checkbox' && element.checkboxContent\" [class]=\"'form-field form-field-checkbox'\">\n      <input (change)=\"checkboxChangeEmit($event); changes = changes + 1\"\n             [checked]=\"element.checkboxContent.checkboxCheckedState\"\n             [id]=\"element.checkboxContent.checkboxId ? element.checkboxContent.checkboxId : element.checkboxContent.checkboxName\" [name]=\"element.checkboxContent.checkboxName\" class=\"inp-cbx\"\n             ngModel\n             style=\"display: none\" type=\"checkbox\"><label [for]=\"element.checkboxContent.checkboxName\"\n                                                                                         class=\"cbx\"><span\n      id=\"span-cbx-checkbox\"><svg height=\"10px\" viewbox=\"0 0 12 10\" width=\"12px\">\n                <polyline points=\"1.5 6 4.5 9 10.5 1\"></polyline>\n            </svg></span><span class=\"label\"\n                               id=\"span-cbx-label\">{{element.checkboxContent.checkboxLabel}}</span></label>\n\n    </div>\n\n    <div *ngIf=\"element.type === 'submit' && element.submitContent\" [class]=\"'form-field form-field-submit'\">\n      <button [class]=\"element.submitContent.submitDisabled || !form.valid || changes === 0 ? 'btn btn-disabled' : 'btn btn-submit'\"\n              [disabled]=\"!(element.submitContent) || element.submitContent.submitDisabled || !form.valid || changes === 0\"\n              type=\"submit\"\n              value=\"Send\"><i\n        [class]=\"!(element.submitContent) || element.submitContent.submitIconFaClass ? element.submitContent.submitIconFaClass : 'fa fa-cog'\"\n        class=\"btn-icon\"></i>{{element.submitContent.submitLabel}}</button>\n    </div>\n\n    <div *ngIf=\"element.type === 'header' && element.headerContent\" class=\"form-field form-field-header\">\n      <h1 *ngIf=\"element.headerContent.headerFormat === 'h1'\">{{element.headerContent.headerTitle}}</h1>\n      <h2 *ngIf=\"element.headerContent.headerFormat === 'h2'\">{{element.headerContent.headerTitle}}</h2>\n      <h3 *ngIf=\"element.headerContent.headerFormat === 'h3'\">{{element.headerContent.headerTitle}}</h3>\n    </div>\n  </ng-container>\n</form>\n", styles: [".select-search{margin-top:12px;margin-bottom:12px}.select-search-label{color:#00000080}mat-form-field{width:100%;width:-webkit-fill-available;width:available}.alert{font-size:11pt!important}.form-field{margin-bottom:8px}.form-field-input{display:grid}.form-field-checkbox{margin-top:16px;margin-bottom:16px}.form{height:20%;display:inline-grid;font-family:Open Sans,sans-serif!important;font-weight:500!important;-webkit-text-size-adjust:100%;-webkit-font-smoothing:antialiased;box-sizing:border-box;width:100%;max-width:500px}.inp{position:relative;margin:auto;width:100%;border-radius:3px;overflow:hidden}.inp .label{position:absolute;top:20px;left:4px;font-size:14px;color:#00000080;font-weight:500;transform-origin:0 0;transform:translateZ(0);transition:all .2s ease;pointer-events:none}.inp .focus-bg{position:absolute;top:0;left:0;width:100%;height:100%;background:#0000000d;z-index:-1;transform:scaleX(0);transform-origin:left}.inp input{appearance:none;width:100%;border:0;font-family:Open Sans,sans-serif!important;font-weight:500!important;padding:32px 4px 16px;height:28px;font-size:12px;font-weight:400;background:#fff0;box-shadow:inset 0 -1px #0000004d;color:#000;transition:all .15s ease}.inp input:hover{background:#c3c3c3;box-shadow:inset 0 -1px #00000080}.inp input:not(:placeholder-shown)+.label{color:#00000080;transform:translate3d(0,-12px,0) scale(.75)}.inp input:focus{background:#0000000d;outline:none;box-shadow:inset 0 -2px #00823e}.inp input:focus+.label{color:#01592d;transform:translate3d(0,-12px,0) scale(.75)}::ng-deep .snackbar{background:#01592d}::ng-deep .snackbar-error{background:#a71b03!important}.cbx{margin:auto;-webkit-user-select:none;user-select:none;cursor:pointer}.cbx span{display:inline-block;vertical-align:middle;transform:translateZ(0)}.cbx span:first-child{position:relative;width:18px;height:18px;border-radius:3px;transform:scale(1);vertical-align:middle;border:1px solid #9098a9;transition:all .2s ease}.cbx span:first-child svg{position:absolute;top:3px;left:2px;fill:none;stroke:#fff;stroke-width:2;stroke-linecap:round;stroke-linejoin:round;stroke-dasharray:16px;stroke-dashoffset:16px;transition:all .3s ease;transition-delay:.1s;transform:translateZ(0)}.cbx span:last-child{padding-left:8px}.cbx:hover span:first-child{border-color:#00823e}.inp-cbx:checked+.cbx span:first-child{background:#00823e;border-color:#949494;animation:wave .4s ease}.inp-cbx:checked+.cbx span:first-child svg{stroke-dashoffset:0}.inp-cbx:checked+.cbx span:first-child:before{transform:scale(3.5);opacity:0;transition:all .6s ease}\n"] }]
        }], ctorParameters: function () { return []; }, propDecorators: { formStructure: [{
                type: Input
            }], submitData: [{
                type: Output
            }], inputLiveData: [{
                type: Output
            }], selectValue: [{
                type: Output
            }], selectSearchValue: [{
                type: Output
            }], validationResult: [{
                type: Output
            }] } });
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoidWlrLWZvcm1zLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2VuZ28tdWkta2l0LWxpYi9zcmMvbGliL3Vpay1mb3Jtcy91aWstZm9ybXMvdWlrLWZvcm1zLmNvbXBvbmVudC50cyIsIi4uLy4uLy4uLy4uLy4uLy4uL3Byb2plY3RzL2VuZ28tdWkta2l0LWxpYi9zcmMvbGliL3Vpay1mb3Jtcy91aWstZm9ybXMvdWlrLWZvcm1zLmNvbXBvbmVudC5odG1sIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBLE9BQU8sRUFBaUIsU0FBUyxFQUFFLFlBQVksRUFBRSxLQUFLLEVBQVUsTUFBTSxFQUFFLE1BQU0sZUFBZSxDQUFDO0FBSTlGLE9BQU8sS0FBSyxDQUFDLE1BQU0sUUFBUSxDQUFDOzs7Ozs7OztBQWE1QixNQUFNLE9BQU8saUJBQWlCO0lBZTVCO1FBZFMsa0JBQWEsR0FBa0IsRUFBRSxDQUFDO1FBQ2pDLGVBQVUsR0FBc0IsSUFBSSxZQUFZLEVBQU8sQ0FBQztRQUN4RCxrQkFBYSxHQUFzQixJQUFJLFlBQVksRUFBTyxDQUFDO1FBQzNELGdCQUFXLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFDekQsc0JBQWlCLEdBQXNCLElBQUksWUFBWSxFQUFPLENBQUM7UUFDL0QscUJBQWdCLEdBQXNDLElBQUksWUFBWSxFQUF1QixDQUFDO1FBRWpHLFlBQU8sR0FBRyxDQUFDLENBQUM7UUFDWixrQkFBYSxHQUFHLEtBQUssQ0FBQztRQUN0QixpQkFBWSxHQUFVLEVBQUUsQ0FBQztRQUN6QixzQkFBaUIsR0FBd0IsRUFBRSxDQUFDO1FBQzVDLDhCQUF5QixHQUFnQyxFQUFFLENBQUM7SUFJbkUsQ0FBQztJQUVELFFBQVE7UUFDTixJQUFJLENBQUMsYUFBYSxDQUFDLE9BQU8sQ0FBQyxDQUFDLE9BQU8sRUFBRSxLQUFLLEVBQUUsRUFBRTtZQUM1QyxJQUFJLE9BQU8sQ0FBQyxZQUFZ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LENBQUMsZ0JBQWdCLENBQUMsU0FBUyxDQUFDLFNBQVMsQ0FBQyxDQUFDLENBQUMsQ0FBQyxJQUFJLENBQUM7WUFDM0YsSUFBSSxRQUFRLEtBQUssT0FBTyxFQUFFO2dCQUN4QixJQUFJLENBQUMsT0FBTyxFQUFFLENBQUM7YUFDaEI7aUJBQU07Z0JBQ0wsSUFBSSxDQUFDLE9BQU8sR0FBRyxDQUFDLENBQUM7YUFDbEI7U0FDRjtJQUNILENBQUM7K0dBMUlVLGlCQUFpQjttR0FBakIsaUJBQWlCLG1SQ2pCOUIsc2pOQXVHQTs7NEZEdEZhLGlCQUFpQjtrQkFMN0IsU0FBUzsrQkFDRSxnQkFBZ0I7MEVBS2pCLGFBQWE7c0JBQXJCLEtBQUs7Z0JBQ0ksVUFBVTtzQkFBbkIsTUFBTTtnQkFDRyxhQUFhO3NCQUF0QixNQUFNO2dCQUNHLFdBQVc7c0JBQXBCLE1BQU07Z0JBQ0csaUJBQWlCO3NCQUExQixNQUFNO2dCQUNHLGdCQUFnQjtzQkFBekIsTUFBTSIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IEFmdGVyVmlld0luaXQsIENvbXBvbmVudCwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT25Jbml0LCBPdXRwdXQgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IElGb3JtRmllbGRJbnB1dCwgSUZvcm1GaWVsZHMgfSBmcm9tICcuLi9pbnRlcmZhY2VzL3Vpay1mb3Jtcy5pbnRlcmZhY2UnO1xuaW1wb3J0IHsgTmdGb3JtIH0gZnJvbSAnQGFuZ3VsYXIvZm9ybXMnO1xuaW1wb3J0IHsgTWF0U2VsZWN0Q2hhbmdlIH0gZnJvbSAnQGFuZ3VsYXIvbWF0ZXJpYWwvc2VsZWN0JztcbmltcG9ydCAqIGFzIF8gZnJvbSAnbG9kYXNoJztcblxuZXhwb3J0IGludGVyZmFjZSBJVmFsaWRhdGlvblJlc3VsdCB7XG4gIHZhbHVlOiBzdHJpbmc7XG4gIHZhbGlkOiBib29sZWFuO1xuICBlcnJvck1lc3NhZ2U6IHN0cmluZ1tdO1xufVxuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdlbmdvLXVpay1mb3JtcycsXG4gIHRlbXBsYXRlVXJsOiAnLi91aWstZm9ybXMuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFsnLi91aWstZm9ybXMuY29tcG9uZW50LmNzcyddXG59KVxuZXhwb3J0IGNsYXNzIFVpa0Zvcm1zQ29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0LCBBZnRlclZpZXdJbml0IHtcbiAgQElucHV0KCkgZm9ybVN0cnVjdHVyZTogSUZvcm1GaWVsZHNbXSA9IFtdO1xuICBAT3V0cHV0KCkgc3VibWl0RGF0YTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIGlucHV0TGl2ZURhdGE6IEV2ZW50RW1pdHRlcjxhbnk+ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBzZWxlY3RWYWx1ZTogRXZlbnRFbWl0dGVyPGFueT4gPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgQE91dHB1dCgpIHNlbGVjdFNlYXJjaFZhbHVlOiBFdmVudEVtaXR0ZXI8YW55PiA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBAT3V0cHV0KCkgdmFsaWRhdGlvblJlc3VsdDogRXZlbnRFbWl0dGVyPElWYWxpZGF0aW9uUmVzdWx0W10+ID0gbmV3IEV2ZW50RW1pdHRlcjxJVmFsaWRhdGlvblJlc3VsdFtdPigpO1xuXG4gIHB1YmxpYyBjaGFuZ2VzID0gMDtcbiAgcHVibGljIGNoZWNrYm94VmFsdWUgPSBmYWxzZTtcbiAgcHVibGljIGlucHV0TmdNb2RlbDogYW55W10gPSBbXTtcbiAgcHVibGljIHZhbGlkYXRpb25SZXN1bHRzOiBJVmFsaWRhdGlvblJlc3VsdFtdID0gW107XG4gIHB1YmxpYyBzZWxlY3RTZWFyY2hOZ01vZGVsT2JqZWN0OiBBcnJheTxzdHJpbmc+IHwgQXJyYXk8bnVsbD4gPSBbXTtcbiAgcHJpdmF0ZSBwcmV2aW91c0Zvcm1EYXRhOiBhbnkgfCB1bmRlZmluZWQ7XG5cbiAgY29uc3RydWN0b3IoKSB7XG4gIH1cblxuICBuZ09uSW5pdCgpOiB2b2lkIHtcbiAgICB0aGlzLmZvcm1TdHJ1Y3R1cmUuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmlucHV0Q29udGVudCAmJiBlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dFZhbHVlRGVmYXVsdCkge1xuICAgICAgICB0aGlzLmlucHV0TmdNb2RlbFtpbmRleF0gPSBlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dFZhbHVlRGVmYXVsdDtcbiAgICAgIH1cbiAgICAgIGlmIChlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQpIHtcbiAgICAgICAgdGhpcy5zZWxlY3RTZWFyY2hOZ01vZGVsT2JqZWN0W2VsZW1lbnQuc2VsZWN0U2VhcmNoQ29udGVudC5zZWxlY3RJbmRleF0gPSBudWxsO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCk6IHZvaWQge1xuICAgIHRoaXMuZm9ybVN0cnVjdHVyZS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGVsZW1lbnQuaW5wdXRDb250ZW50KSB7XG4gICAgICAgIGlmIChlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dFZhbHVlRGVmYXVsdCkge1xuICAgICAgICAgIGNvbnN0IGh0bWxFbGVtZW50ID0gKGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdpbnAtJyArIGluZGV4KSBhcyBIVE1MSW5wdXRFbGVtZW50KTtcbiAgICAgICAgICBpZiAoaHRtbEVsZW1lbnQgJiYgIV8uaXNFbXB0eShodG1sRWxlbWVudC52YWx1ZSkpIHtcbiAgICAgICAgICAgIGh0bWxFbGVtZW50LnZhbHVlID0gZWxlbWVudC5pbnB1dENvbnRlbnQuaW5wdXRWYWx1ZURlZmF1bHQ7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvblN1Ym1pdChmb3JtOiBOZ0Zvcm0pOiB2b2lkIHtcbiAgICB0aGlzLmNoZWNrVmFsaWRhdGlvbigpO1xuICAgIGlmICh0aGlzLmNoYW5nZXMgIT09IDApIHtcbiAgICAgIHRoaXMuY2hhbmdlcyA9IDA7XG4gICAgICB0aGlzLnByZXZpb3VzRm9ybURhdGEgPSBmb3JtLnZhbHVlO1xuICAgICAgdGhpcy5zdWJtaXREYXRhLmVtaXQoZm9ybSk7XG4gICAgfVxuICB9XG5cbiAgb25DaGFuZ2UoZm9ybTogTmdGb3JtKTogdm9pZCB7XG4gICAgdGhpcy5jaGVja1ZhbGlkYXRpb24oKTtcbiAgICB0aGlzLmlucHV0TGl2ZURhdGE/LmVtaXQoZm9ybSk7XG4gIH1cblxuICBnZXRTZWxlY3RlZFZhbHVlKHNlbGVjdDogTWF0U2VsZWN0Q2hhbmdlKTogdm9pZCB7XG4gICAgdGhpcy5zZWxlY3RWYWx1ZS5lbWl0KHNlbGVjdC52YWx1ZSk7XG4gIH1cblxuICBnZXRTZWxlY3RTZWFyY2hWYWx1ZShpbmRleDogbnVtYmVyKTogdm9pZCB7XG4gICAgdGhpcy5jaGFuZ2VzKys7XG4gICAgdGhpcy5zZWxlY3RTZWFyY2hWYWx1ZS5lbWl0KHtcbiAgICAgIGluZGV4LFxuICAgICAgdmFsdWU6IHRoaXMuc2VsZWN0U2VhcmNoTmdNb2RlbE9iamVjdFtpbmRleF1cbiAgICB9KTtcbiAgfVxuXG4gIGNoZWNrYm94Q2hhbmdlRW1pdChldmVudDogYW55KTogdm9pZCB7XG4gICAgdGhpcy5jaGVja2JveFZhbHVlID0gZXZlbnQuY2hlY2tlZDtcbiAgfVxuXG4gIGNoZWNrVmFsaWRhdGlvbigpOiBJVmFsaWRhdGlvblJlc3VsdFtdIHtcbiAgICBjb25zdCByZXN1bHRzOiBJVmFsaWRhdGlvblJlc3VsdFtdID0gW107XG5cbiAgICB0aGlzLmZvcm1TdHJ1Y3R1cmUuZm9yRWFjaCgoZmllbGQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ2lucHV0JyAmJiBmaWVsZC5pbnB1dENvbnRlbnQpIHtcbiAgICAgICAgY29uc3QgY3VycmVudElucHV0ID0gdGhpcy5pbnB1dE5nTW9kZWxbaW5kZXhdO1xuICAgICAgICBjb25zdCByZXN1bHQ6IElWYWxpZGF0aW9uUmVzdWx0ID0ge1xuICAgICAgICAgIHZhbGlkOiB0cnVlLFxuICAgICAgICAgIHZhbHVlOiBTdHJpbmcoY3VycmVudElucHV0KSxcbiAgICAgICAgICBlcnJvck1lc3NhZ2U6IFtdXG4gICAgICAgIH07XG5cbiAgICAgICAgaWYgKGZpZWxkLmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxSZXF1aXJlZCAmJiBfLmlzRW1wdHkoY3VycmVudElucHV0KSkge1xuICAgICAgICAgIHJlc3VsdC52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChmaWVsZC5pbnB1dENvbnRlbnQuaW5wdXRBbGVydGluZz8uYWxlcnRFcnJvclRleHRSZXF1aXJlZCkge1xuICAgICAgICAgICAgcmVzdWx0LmVycm9yTWVzc2FnZS5wdXNoKGZpZWxkLmlucHV0Q29udGVudC5pbnB1dEFsZXJ0aW5nPy5hbGVydEVycm9yVGV4dFJlcXVpcmVkKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmVycm9yTWVzc2FnZS5wdXNoKCdEYXMgRmVsZCBpc3QgZWluIFBmbGljaHRmZWxkLicpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIGlmIChmaWVsZC5pbnB1dENvbnRlbnQuaW5wdXROZ01vZGVsTWluTGVuZ3RoICYmIGN1cnJlbnRJbnB1dC5sZW5ndGggPCBmaWVsZC5pbnB1dENvbnRlbnQuaW5wdXROZ01vZGVsTWluTGVuZ3RoKSB7XG4gICAgICAgICAgcmVzdWx0LnZhbGlkID0gZmFsc2U7XG4gICAgICAgICAgaWYgKGZpZWxkLmlucHV0Q29udGVudC5pbnB1dEFsZXJ0aW5nPy5hbGVydEVycm9yVGV4dExlbmd0aCkge1xuICAgICAgICAgICAgcmVzdWx0LmVycm9yTWVzc2FnZS5wdXNoKGZpZWxkLmlucHV0Q29udGVudC5pbnB1dEFsZXJ0aW5nPy5hbGVydEVycm9yVGV4dExlbmd0aCk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvck1lc3NhZ2U/LnB1c2goJ0RlciBXZXJ0IGVudHNwcmljaHQgbmljaHQgZGVyIEzDpG5nZSB2b24gbWluZGVzdGVucyAnICsgZmllbGQuaW5wdXRDb250ZW50LmlucHV0TmdNb2RlbE1pbkxlbmd0aCArICcgdW5kIG1heGltYWwgJyArIGZpZWxkLmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxNYXhMZW5ndGggKyAnIFplaWNoZW4uJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgaWYgKGZpZWxkLmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxNYXhMZW5ndGggJiYgY3VycmVudElucHV0Lmxlbmd0aCA+IGZpZWxkLmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxNYXhMZW5ndGgpIHtcbiAgICAgICAgICByZXN1bHQudmFsaWQgPSBmYWxzZTtcbiAgICAgICAgICBpZiAoZmllbGQuaW5wdXRDb250ZW50LmlucHV0QWxlcnRpbmc/LmFsZXJ0RXJyb3JUZXh0TGVuZ3RoKSB7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JNZXNzYWdlLnB1c2goZmllbGQuaW5wdXRDb250ZW50LmlucHV0QWxlcnRpbmc/LmFsZXJ0RXJyb3JUZXh0TGVuZ3RoKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzdWx0LmVycm9yTWVzc2FnZT8ucHVzaCgnRGVyIFdlcnQgZW50c3ByaWNodCBuaWNodCBkZXIgTMOkbmdlIHZvbiBtaW5kZXN0ZW5zICcgKyBmaWVsZC5pbnB1dENvbnRlbnQuaW5wdXROZ01vZGVsTWluTGVuZ3RoICsgJyB1bmQgbWF4aW1hbCAnICsgZmllbGQuaW5wdXRDb250ZW50LmlucHV0TmdNb2RlbE1heExlbmd0aCArICcgWmVpY2hlbi4nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBpZiAoZmllbGQuaW5wdXRDb250ZW50LmlucHV0VmFsaWRhdGlvblBhdHRlcm4gJiYgIW5ldyBSZWdFeHAoZmllbGQuaW5wdXRDb250ZW50LmlucHV0VmFsaWRhdGlvblBhdHRlcm4pLnRlc3QoY3VycmVudElucHV0KSkge1xuICAgICAgICAgIHJlc3VsdC52YWxpZCA9IGZhbHNlO1xuICAgICAgICAgIGlmIChmaWVsZC5pbnB1dENvbnRlbnQuaW5wdXRBbGVydGluZz8uYWxlcnRFcnJvclRleHRQYXR0ZXJuKSB7XG4gICAgICAgICAgICByZXN1bHQuZXJyb3JNZXNzYWdlLnB1c2goZmllbGQuaW5wdXRDb250ZW50LmlucHV0QWxlcnRpbmc/LmFsZXJ0RXJyb3JUZXh0UGF0dGVybik7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJlc3VsdC5lcnJvck1lc3NhZ2UucHVzaCgnRGVyIFdlcnQgZW50c3ByaWNodCBuaWNodCBkZXIgZ2Vmb3JkZXJ0ZW4gU3RydWt0dXIuJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG5cbiAgICAgICAgcmVzdWx0c1tpbmRleF0gPSByZXN1bHQ7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgICB0aGlzLnZhbGlkYXRpb25SZXN1bHRzID0gcmVzdWx0cztcbiAgICB0aGlzLnZhbGlkYXRpb25SZXN1bHQuZW1pdCh0aGlzLnZhbGlkYXRpb25SZXN1bHRzKTtcbiAgICByZXR1cm4gcmVzdWx0cztcbiAgfVxuXG4gIGhhc0NoYW5nZWQoZm9ybWZpZWxkOiBJRm9ybUZpZWxkSW5wdXQsIGN1cnJlbnQ6IGFueSk6IHZvaWQge1xuICAgIGlmIChmb3JtZmllbGQuaW5wdXROYW1lKSB7XG4gICAgICBjb25zdCBwcmV2aW91cyA9IHRoaXMucHJldmlvdXNGb3JtRGF0YSA/IHRoaXMucHJldmlvdXNGb3JtRGF0YVtmb3JtZmllbGQuaW5wdXROYW1lXSA6IG51bGw7XG4gICAgICBpZiAocHJldmlvdXMgIT09IGN1cnJlbnQpIHtcbiAgICAgICAgdGhpcy5jaGFuZ2VzKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aGlzLmNoYW5nZXMgPSAwO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG59XG4iLCI8Zm9ybSAjZm9ybT1cIm5nRm9ybVwiIChjaGFuZ2UpPVwib25DaGFuZ2UoZm9ybSlcIiAobmdTdWJtaXQpPVwib25TdWJtaXQoZm9ybSlcIiBjbGFzcz1cImZvcm1cIiBuZ05hdGl2ZVZhbGlkYXRlPlxuXG4gIDxuZy1jb250YWluZXIgKm5nRm9yPVwibGV0IGVsZW1lbnQgb2YgZm9ybVN0cnVjdHVyZTsgbGV0IGkgPSBpbmRleFwiPlxuICAgIDxkaXYgKm5nSWY9XCJlbGVtZW50LnR5cGUgPT09ICdzZWxlY3QnICYmIGVsZW1lbnQuc2VsZWN0Q29udGVudFwiIFtpZF09XCInZm9ybS1maWVsZC1zZWxlY3QnXCI+XG4gICAgICA8ZGl2IGNsYXNzPVwiZm9ybWVsZW1lbnRcIj5cbiAgICAgICAgPG1hdC1mb3JtLWZpZWxkIGFwcGVhcmFuY2U9XCJmaWxsXCIgY2xhc3M9XCJzZWxlY3Rib3hcIj5cbiAgICAgICAgICA8bWF0LWxhYmVsPnt7ZWxlbWVudC5zZWxlY3RDb250ZW50LnNlbGVjdExhYmVsfX08L21hdC1sYWJlbD5cbiAgICAgICAgICA8bWF0LXNlbGVjdCAoc2VsZWN0aW9uQ2hhbmdlKT1cImdldFNlbGVjdGVkVmFsdWUoJGV2ZW50KTsgY2hhbmdlcyA9IGNoYW5nZXMgKyAxXCI+XG4gICAgICAgICAgICA8bWF0LW9wdGlvbiAqbmdGb3I9XCJsZXQgc2VsZWN0RWxlbWVudCBvZiBlbGVtZW50LnNlbGVjdENvbnRlbnQuc2VsZWN0T3B0aW9uSXRlbXNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cInNlbGVjdEVsZW1lbnQuc2VsZWN0T3B0aW9uVmFsdWVcIj4ge3tzZWxlY3RFbGVtZW50LnNlbGVjdE9wdGlvbkxhYmVsfX0gPC9tYXQtb3B0aW9uPlxuICAgICAgICAgIDwvbWF0LXNlbGVjdD5cbiAgICAgICAgPC9tYXQtZm9ybS1maWVsZD5cbiAgICAgIDwvZGl2PlxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiAqbmdJZj1cImVsZW1lbnQudHlwZSA9PT0gJ3NlbGVjdC1zZWFyY2gnICYmIGVsZW1lbnQuc2VsZWN0U2VhcmNoQ29udGVudFwiIFtjbGFzc109XCInc2VsZWN0LXNlYXJjaCdcIlxuICAgICAgICAgW2lkXT1cIidmb3JtLWZpZWxkLXNlbGVjdC1zZWFyY2gnXCI+XG4gICAgICA8bGFiZWwgY2xhc3M9XCJzZWxlY3Qtc2VhcmNoLWxhYmVsXCI+e3tlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQubGFiZWx9fTwvbGFiZWw+XG4gICAgICA8bmctc2VsZWN0IChjaGFuZ2UpPVwiZ2V0U2VsZWN0U2VhcmNoVmFsdWUoZWxlbWVudC5zZWxlY3RTZWFyY2hDb250ZW50LnNlbGVjdEluZGV4KVwiXG4gICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwic2VsZWN0U2VhcmNoTmdNb2RlbE9iamVjdFtlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQuc2VsZWN0SW5kZXhdXCJcbiAgICAgICAgICAgICAgICAgW2JpbmRMYWJlbF09XCJlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQuYmluZExhYmVsXCJcbiAgICAgICAgICAgICAgICAgW2JpbmRWYWx1ZV09XCJlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQuYmluZFZhbHVlXCJcbiAgICAgICAgICAgICAgICAgW2l0ZW1zXT1cImVsZW1lbnQuc2VsZWN0U2VhcmNoQ29udGVudC5pdGVtcyB8IGFzeW5jXCJcbiAgICAgICAgICAgICAgICAgW211bHRpcGxlXT1cImVsZW1lbnQuc2VsZWN0U2VhcmNoQ29udGVudC5tdWx0aXBsZVwiXG4gICAgICAgICAgICAgICAgIFtwbGFjZWhvbGRlcl09XCJlbGVtZW50LnNlbGVjdFNlYXJjaENvbnRlbnQucGxhY2Vob2xkZXJcIj5cbiAgICAgIDwvbmctc2VsZWN0PlxuICAgIDwvZGl2PlxuICAgIDxkaXYgKm5nSWY9XCJlbGVtZW50LnR5cGUgPT09ICdpbnB1dCcgJiYgZWxlbWVudC5pbnB1dENvbnRlbnRcIiBbY2xhc3NdPVwiJ2Zvcm0tZmllbGQtaW5wdXQnXCI+XG4gICAgICA8ZGl2ICpuZ0lmPVwiZWxlbWVudC5pbnB1dENvbnRlbnQuaW5wdXROZ01vZGVsUmVxdWlyZWQgPT09IGZhbHNlXCJcbiAgICAgICAgICAgW2NsYXNzXT1cIidmb3JtLWZpZWxkIGZvcm0tZmllbGQtaW5wdXQgZm9ybS1maWVsZC1pbnB1dC1ub3ZhbGlkYXRpb24nXCI+XG4gICAgICAgIDxsYWJlbCBbZm9yXT1cIidpbnAtbm92YWxpZGF0aW9uLScgKyBpXCIgY2xhc3M9XCJpbnBcIj5cbiAgICAgICAgICA8aW5wdXQgKG5nTW9kZWxDaGFuZ2UpPVwiaGFzQ2hhbmdlZChlbGVtZW50LmlucHV0Q29udGVudCwgJGV2ZW50KVwiXG4gICAgICAgICAgICAgICAgIFsobmdNb2RlbCldPVwiaW5wdXROZ01vZGVsW2ldXCJcbiAgICAgICAgICAgICAgICAgW2NsYXNzXT1cIidpbnAnXCJcbiAgICAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0RGlzYWJsZWQgPyBlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dERpc2FibGVkIDogZmFsc2VcIlxuICAgICAgICAgICAgICAgICBbaWRdPVwiJ2lucC1ub3ZhbGlkYXRpb24tJyArIGlcIlxuICAgICAgICAgICAgICAgICBbbmFtZV09XCJlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dE5hbWVcIlxuICAgICAgICAgICAgICAgICBbcGF0dGVybl09XCIhIWVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0VmFsaWRhdGlvblBhdHRlcm4gPyBlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dFZhbGlkYXRpb25QYXR0ZXJuIDogJy4qJ1wiXG4gICAgICAgICAgICAgICAgIFt0eXBlXT1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0VHlwZVwiXG4gICAgICAgICAgICAgICAgIFt2YWx1ZV09XCJlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dFZhbHVlRGVmYXVsdFwiXG4gICAgICAgICAgICAgICAgIG5nTW9kZWxcbiAgICAgICAgICAgICAgICAgcGxhY2Vob2xkZXI9XCImbmJzcDtcIj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImxhYmVsXCI+e3tlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dExhYmVsfX08L3NwYW4+XG4gICAgICAgICAgPHNwYW4gY2xhc3M9XCJmb2N1cy1iZ1wiPjwvc3Bhbj5cbiAgICAgICAgPC9sYWJlbD5cbiAgICAgIDwvZGl2PlxuICAgICAgPGRpdiAqbmdJZj1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0TmdNb2RlbFJlcXVpcmVkID09PSB0cnVlXCJcbiAgICAgICAgICAgW2NsYXNzXT1cIidmb3JtLWZpZWxkIGZvcm0tZmllbGQtaW5wdXQgZm9ybS1maWVsZC1pbnB1dC12YWxpZGF0aW9uJ1wiPlxuICAgICAgICA8bGFiZWwgW2Zvcl09XCInaW5wLScgKyBpXCIgY2xhc3M9XCJpbnBcIj5cbiAgICAgICAgICA8aW5wdXQgKG5nTW9kZWxDaGFuZ2UpPVwiaGFzQ2hhbmdlZChlbGVtZW50LmlucHV0Q29udGVudCwgJGV2ZW50KTsgY2hlY2tWYWxpZGF0aW9uKClcIlxuICAgICAgICAgICAgICAgICBbKG5nTW9kZWwpXT1cImlucHV0TmdNb2RlbFtpXVwiXG4gICAgICAgICAgICAgICAgIFtjbGFzc109XCInaW5wJ1wiXG4gICAgICAgICAgICAgICAgIFtkaXNhYmxlZF09XCJlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dERpc2FibGVkID8gZWxlbWVudC5pbnB1dENvbnRlbnQuaW5wdXREaXNhYmxlZCA6IGZhbHNlXCJcbiAgICAgICAgICAgICAgICAgW2lkXT1cIidpbnAtJyArIGlcIlxuICAgICAgICAgICAgICAgICBbbWF4bGVuZ3RoXT1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0TmdNb2RlbE1heExlbmd0aCA/IGVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0TmdNb2RlbE1heExlbmd0aCA6ICcnXCJcbiAgICAgICAgICAgICAgICAgW21pbmxlbmd0aF09XCJlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxNaW5MZW5ndGggPyBlbGVtZW50LmlucHV0Q29udGVudC5pbnB1dE5nTW9kZWxNaW5MZW5ndGggOiAnJ1wiXG4gICAgICAgICAgICAgICAgIFtuYW1lXT1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0TmFtZVwiXG4gICAgICAgICAgICAgICAgIFtwYXR0ZXJuXT1cIiEhZWxlbWVudC5pbnB1dENvbnRlbnQuaW5wdXRWYWxpZGF0aW9uUGF0dGVybiA/IGVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0VmFsaWRhdGlvblBhdHRlcm4gOiAnLionXCIgW3R5cGVdPVwiZWxlbWVudC5pbnB1dENvbnRlbnQuaW5wdXRUeXBlXCJcbiAgICAgICAgICAgICAgICAgW3ZhbHVlXT1cImVsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0VmFsdWVEZWZhdWx0XCJcbiAgICAgICAgICAgICAgICAgbmdNb2RlbFxuICAgICAgICAgICAgICAgICBwbGFjZWhvbGRlcj1cIiZuYnNwO1wiXG4gICAgICAgICAgICAgICAgIHJlcXVpcmVkPlxuICAgICAgICAgIDxzcGFuIGNsYXNzPVwibGFiZWxcIj57e2VsZW1lbnQuaW5wdXRDb250ZW50LmlucHV0TGFiZWx9fTwvc3Bhbj5cbiAgICAgICAgICA8c3BhbiBjbGFzcz1cImZvY3VzLWJnXCI+PC9zcGFuPlxuICAgICAgICA8L2xhYmVsPlxuICAgICAgICA8ZGl2ICpuZ0lmPVwiISF2YWxpZGF0aW9uUmVzdWx0c1tpXVwiPlxuICAgICAgICAgIDxkaXYgKm5nSWY9XCJ2YWxpZGF0aW9uUmVzdWx0c1tpXS5lcnJvck1lc3NhZ2UubGVuZ3RoID4gMFwiPlxuICAgICAgICAgICAgPHAgKm5nRm9yPVwibGV0IGVycm9yIG9mIHZhbGlkYXRpb25SZXN1bHRzW2ldLmVycm9yTWVzc2FnZVwiIGNsYXNzPVwiYWxlcnRcIj57e2Vycm9yfX08L3A+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9kaXY+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2ICpuZ0lmPVwiZWxlbWVudC50eXBlID09PSAnY2hlY2tib3gnICYmIGVsZW1lbnQuY2hlY2tib3hDb250ZW50XCIgW2NsYXNzXT1cIidmb3JtLWZpZWxkIGZvcm0tZmllbGQtY2hlY2tib3gnXCI+XG4gICAgICA8aW5wdXQgKGNoYW5nZSk9XCJjaGVja2JveENoYW5nZUVtaXQoJGV2ZW50KTsgY2hhbmdlcyA9IGNoYW5nZXMgKyAxXCJcbiAgICAgICAgICAgICBbY2hlY2tlZF09XCJlbGVtZW50LmNoZWNrYm94Q29udGVudC5jaGVja2JveENoZWNrZWRTdGF0ZVwiXG4gICAgICAgICAgICAgW2lkXT1cImVsZW1lbnQuY2hlY2tib3hDb250ZW50LmNoZWNrYm94SWQgPyBlbGVtZW50LmNoZWNrYm94Q29udGVudC5jaGVja2JveElkIDogZWxlbWVudC5jaGVja2JveENvbnRlbnQuY2hlY2tib3hOYW1lXCIgW25hbWVdPVwiZWxlbWVudC5jaGVja2JveENvbnRlbnQuY2hlY2tib3hOYW1lXCIgY2xhc3M9XCJpbnAtY2J4XCJcbiAgICAgICAgICAgICBuZ01vZGVsXG4gICAgICAgICAgICAgc3R5bGU9XCJkaXNwbGF5OiBub25lXCIgdHlwZT1cImNoZWNrYm94XCI+PGxhYmVsIFtmb3JdPVwiZWxlbWVudC5jaGVja2JveENvbnRlbnQuY2hlY2tib3hOYW1lXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2xhc3M9XCJjYnhcIj48c3BhblxuICAgICAgaWQ9XCJzcGFuLWNieC1jaGVja2JveFwiPjxzdmcgaGVpZ2h0PVwiMTBweFwiIHZpZXdib3g9XCIwIDAgMTIgMTBcIiB3aWR0aD1cIjEycHhcIj5cbiAgICAgICAgICAgICAgICA8cG9seWxpbmUgcG9pbnRzPVwiMS41IDYgNC41IDkgMTAuNSAxXCI+PC9wb2x5bGluZT5cbiAgICAgICAgICAgIDwvc3ZnPjwvc3Bhbj48c3BhbiBjbGFzcz1cImxhYmVsXCJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZD1cInNwYW4tY2J4LWxhYmVsXCI+e3tlbGVtZW50LmNoZWNrYm94Q29udGVudC5jaGVja2JveExhYmVsfX08L3NwYW4+PC9sYWJlbD5cblxuICAgIDwvZGl2PlxuXG4gICAgPGRpdiAqbmdJZj1cImVsZW1lbnQudHlwZSA9PT0gJ3N1Ym1pdCcgJiYgZWxlbWVudC5zdWJtaXRDb250ZW50XCIgW2NsYXNzXT1cIidmb3JtLWZpZWxkIGZvcm0tZmllbGQtc3VibWl0J1wiPlxuICAgICAgPGJ1dHRvbiBbY2xhc3NdPVwiZWxlbWVudC5zdWJtaXRDb250ZW50LnN1Ym1pdERpc2FibGVkIHx8ICFmb3JtLnZhbGlkIHx8IGNoYW5nZXMgPT09IDAgPyAnYnRuIGJ0bi1kaXNhYmxlZCcgOiAnYnRuIGJ0bi1zdWJtaXQnXCJcbiAgICAgICAgICAgICAgW2Rpc2FibGVkXT1cIiEoZWxlbWVudC5zdWJtaXRDb250ZW50KSB8fCBlbGVtZW50LnN1Ym1pdENvbnRlbnQuc3VibWl0RGlzYWJsZWQgfHwgIWZvcm0udmFsaWQgfHwgY2hhbmdlcyA9PT0gMFwiXG4gICAgICAgICAgICAgIHR5cGU9XCJzdWJtaXRcIlxuICAgICAgICAgICAgICB2YWx1ZT1cIlNlbmRcIj48aVxuICAgICAgICBbY2xhc3NdPVwiIShlbGVtZW50LnN1Ym1pdENvbnRlbnQpIHx8IGVsZW1lbnQuc3VibWl0Q29udGVudC5zdWJtaXRJY29uRmFDbGFzcyA/IGVsZW1lbnQuc3VibWl0Q29udGVudC5zdWJtaXRJY29uRmFDbGFzcyA6ICdmYSBmYS1jb2cnXCJcbiAgICAgICAgY2xhc3M9XCJidG4taWNvblwiPjwvaT57e2VsZW1lbnQuc3VibWl0Q29udGVudC5zdWJtaXRMYWJlbH19PC9idXR0b24+XG4gICAgPC9kaXY+XG5cbiAgICA8ZGl2ICpuZ0lmPVwiZWxlbWVudC50eXBlID09PSAnaGVhZGVyJyAmJiBlbGVtZW50LmhlYWRlckNvbnRlbnRcIiBjbGFzcz1cImZvcm0tZmllbGQgZm9ybS1maWVsZC1oZWFkZXJcIj5cbiAgICAgIDxoMSAqbmdJZj1cImVsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJGb3JtYXQgPT09ICdoMSdcIj57e2VsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJUaXRsZX19PC9oMT5cbiAgICAgIDxoMiAqbmdJZj1cImVsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJGb3JtYXQgPT09ICdoMidcIj57e2VsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJUaXRsZX19PC9oMj5cbiAgICAgIDxoMyAqbmdJZj1cImVsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJGb3JtYXQgPT09ICdoMydcIj57e2VsZW1lbnQuaGVhZGVyQ29udGVudC5oZWFkZXJUaXRsZX19PC9oMz5cbiAgICA8L2Rpdj5cbiAgPC9uZy1jb250YWluZXI+XG48L2Zvcm0+XG4iXX0=